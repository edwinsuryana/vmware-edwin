---
title: "2. 目的驅動架構"
date: 2021-06-11T11:31:22+10:00
draft: false
---

當您構建 IaaS 或桌面即服務時 ([DaaS](https://www.vmware.com/topics/glossary/content/desktop-as-a-service)), 你的目標是什麼？我不是指設計方面的考慮，例如可用性和性能最佳實踐。我的意思是你的架構必須交付的 **業務結果**，從為架構付費的人來看。

從邏輯上講，答案取決於銷售的產品。從廣義上講，您可以出售應用程序或基礎設施。

對於應用程序，下表顯示了各種服務。

![常見的“即服務”產品](1.1.2-fig-1.png?width=60pc&classes=shadow,border)

在 DaaS 的情況下，目標是確保最終用戶獲得高質量的桌面體驗，同時保持每個用戶的低價格。我們將對此進行更多討論 [這裡](/zh-tw/miscellaneous/chapter-8-vdi-daas/).

讓我們深入了解 IaaS 業務。 IaaS 有三種變體。每個銷售不同的項目，所以目標不可能相同。

| 服務 | 你在賣什麼| 例子 |
| --- | --- | --- |
| IaaS | 2個變種:<br />**虛擬機**: VMware 企業客戶中最常見的服務。大多數服務都是“免費”提供的，很少或沒有報銷.<br />**資源**: 計算或存儲資源塊，例如100 GHz CPU 和100 GB RAM.| AWS EC2 是企業外最受歡迎的.|
| HWaaS | 硬件即服務.<br />這不是 IaaS，因為客戶購買了整個物理 ESXi 主機並擁有自己的 vCenter Server。 | VMC.|

<!-- ![IaaS and HWaaS comparison table](1.1.2-fig-2.png?width=60pc&classes=shadow,border) -->

![比較 VM、資源池和集群的表](1.1.2-fig-3.png?classes=shadow,border)

IaaS 最流行的變體是虛擬機即服務。在此變體中，業務目標是確保應用程序和 VM (VM) 運行 **且經濟高效。 **

![VM 即服務的許多方面](1.1.2-fig-4.png?width=50pc&classes=shadow,border)

成本部分很容易量化。你知道你在硬件、軟件、服務和薪水上的花費。 **運行良好** 中的“井”是困難的部分，因為存在很大的未知數。

我們以 IaaS 為例。假設您正在為 2 個數據中心的 10,000 台虛擬機進行架構設計。你想像一下，第一個月有 2000 台虛擬機，上半年有 5000 台虛擬機，第一年最後是 10,000 台。您是否了解這10,000台虛擬機中每台虛擬機的基本信息，以便您可以構建基礎架構為它們提供良好的服務？

- 他們幾歲？它們的 vCPU、RAM 和磁盤配置是什麼？
- 他們有多激烈？ CPU 利用率、RAM 利用率、磁盤 IOPS、網絡吞吐量？
- 他們的工作量模式是什麼？每日、每週、每月、無模式等。

答案顯然是否定的。甚至應用程序團隊也不知道，因為某些應用程序可能尚未開發。他們的供應商可能也不知道，因為用法尚不清楚。

SDDC 將為所有10,000 台虛擬機提供良好服務的承諾類似於您設計的高速公路將為所有汽車、公共汽車和摩托車提供良好服務的承諾，我們無法預測將使用多少虛擬機以及使用多少虛擬機他們將使用它的頻率的虛擬機。我們將在 [Performance](/zh-tw/operations-management/chapter-2-performance-management/) 部分詳細介紹這一點。

那麼我們如何保證您的 IaaS 將為您的客戶提供良好的服務？

我們可以使用性價比。您與客戶分享的原則是所有服務行業都使用的常識：

> 你想要便宜；它不會很快。你想快點；它不會便宜。

這是您將 [服務等級](/zh-tw/operations-management/chapter-1-overview/1.1.7-service-level-agreement/#服務水平) 與 [服務水平協議](/zh-tw/operations-management/chapter-1-overview/1.1.7-service-level-agreement) 一起. 最高級別的服務可提供最佳的正常運行時間和性能，但也是有代價的。所有這些屬性在 SLA 中都有很好的定義，沒有任何歧義。合同不受解釋。您預先定義所有關鍵指標，向您的客戶保證您有信心按承諾交付。

然後，您可以構建 IaaS 來提供上述服務類別。服務水平成為您的業務產品。有了這個，你就可以開始思考結局了。