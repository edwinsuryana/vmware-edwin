---
title: "2. 多組分系統"
date: 2021-06-14T14:19:28+10:00
draft: false
weight: 20
---

如今，我們很少處理獨立的解決方案。甚至我們認為獨立的解決方案也由多個較小的組件組​​成。例如，物理服務器由多個較小的部分組成，例如電源和磁盤。要計算服務器可用性，我們需要考慮每個組件的可用性及其對整體可用性的影響。

## 系統組件系列

系列是串行連接。想想 Web 服務器 -> 應用程序服務器 -> 數據庫服務器。

具有多個串聯子組件的整個系統的可用性按以下公式計算：

![可用性 整體系統](1.7.2-fig-1.png)

讓我們考慮一個例子，在這種情況下，我們有三個相互串聯的獨立組件，每個組件的可用性為 99.9%。整個系統的可用性 = `99.9 * 99.9 * 99.9 = ~99.7 %`

![系統總流程](1.7.2-fig-2.png)

簡而言之，我們可以看到，對於串聯組件，整體可用性會降低。

## 並聯繫統組件

具有多個並行子組件的整個系統的可用性按以下公式計算：

![subcomponents](1.7.2-fig-3.png)

`1 - Availability of Component i` 給我們提供了組件的不可用性。

讓我們考慮一個例子，在這種情況下，我們有三個相互並行的獨立組件，每個組件都有 99.9% 的可用性。

![組件對系統可用性的貢獻](1.7.2-fig-4.png)

整個系統的可用性：

![可用性 整體系統方程](1.7.2-fig-5.png)

## 多組分

讓我們考慮一個更實用的系統，它同時具有串行和並行組件。對於本示例，我們以具有 4 個 Web 服務器、2 個應用程序服務器和 1 個數據庫服務器的三層應用程序為例。讓我們考慮一下所有這些的可用性為 99.9%，看看整體可用性是多少。

![多組件可用性](1.7.2-fig-5.png)

首先，我們需要先計算並行組件的整體可用性。使用上面的公式，我們看到應用服務器的整體可用性為99.99%，Web服務器為99.9999%。

接下來，我們需要計算串聯組件的整體可用性。應用上述公式，我們得到了 ~99.89% 的整體可用性。

這就是我們避免與其他系統串聯的單點故障的原因，因為此類組件會降低整體可用性。